# SQL vs NOSQL

---

### SQL(관계형 DB)

SQL을 사용하면 RDBMS에서 데이터를 저장, 수정, 삭제 및 검색할 수 있음.

- 데이터는 정해진 데이터 스키마에 따라 테이블에 저장됨 ⇒ 스키마를 준수하지 않은 레코드는 테이블에 추가할 수 없음.
- 데이터는 관계를 통해 여러 테이블에 분산됨 ⇒ 데이터의 중복을 피하기 위해 관계를 이용함.

---

### NoSQL(비관계형 DB)

- 스키마 없음 ⇒ 다른 구조의 데이터를 같은 컬렉션에 추가 가능.
- 관계 없음 ⇒ 여러 테이블에 조인할 필요없이 이미 필요한 모든 것을 갖춘 문서를 작성.

> 💡 **문서(documents)**
>
> - NoSQL에서는 레코드를 문서(documents)라고 부름.
> - Json과 비슷한 형태로, 관련 데이터를 동일한 컬렉션에 넣음.

> 💡 **NoSQL에서의 Join?**
>
> - 컬렉션을 통해 데이터를 복제하여 각 컬렉션 일부분에 속하는 데이터를 정확하게 산출.
> - NoSQL의 Join은 데이터가 중복되어 서로 영향을 줄 위험 존재.
> - 따라서 자주 변경되지 않는 데이터에 대해 사용 권장.

---

### 확장 개념

데이터베이스 서버의 확장성은 수직적 확장과 수평성 확장으로 구분됨.

- 수직적 확장 : 단순히 데이터베이스 서버의 성능을 향상시키는 것(EX. CPU 업그레이드).
- 수평적 확장 : 더 많은 서버가 추가되고 데이터베이스가 전체적으로 분산됨을 의미(하나의 데이터베이스에서 작동하지만 여러 호스트에서 작동).

> 데이터 저장 방식으로 인해 SQL 데이터베이스는 일반적으로 수직적 확장만 지원.
>

---

### SQL vs NoSQL

**SQL 장점**

- 명확하게 정의된 스키마, 데이터 무결성 보장.
- 관계는 각 데이터를 중복없이 한번만 저장.
</br></br>

**SQL 단점**

- 덜 유연함. 데이터 스키마를 사전에 계획하고 알려야 함(나중에 수정이 힘듦).
- 관계를 맺고 있어서 조인문이 많은 복잡한 쿼리가 만들어질 수 있음.
- 대체로 수직적 확장만 가능함.
</br></br>

**NoSQL 장점**

- 스키마가 없어서 유연함. 언제든지 저장된 데이터를 조정하고 새로운 필드 추가 가능.
- 데이터는 애플리케이션이 필요로 하는 형식으로 저장됨. 데이터를 읽어오는 속도가 빨라짐.
- 수직 및 수편 확장이 가능해서 애플리케이션이 발생시키는 모든 읽기/쓰기 요청 처리 가능.
</br></br>

**NoSQL 단점**

- 유연성으로 인해 데이터 구조 결정을 미루게 될 수 있음.
- 데이터 중복을 계속 업데이트 해야 함.
- 데이터가 여러 컬렉션에 중복되어 있기 때문에 수정시 모든 컬렉션에서 수행해야 함(SQL에는 중복 데이터가 없으므로 한번만 수행이 가능).
</br></br>

**SQL 사용이 더나은 경우**

- 관계를 맺고 있는 데이터가 자주 변경되는 애플리케이션의 경우.
- 변경될 여지가 없고, 명확한 스키마가 사용자와 데이터에게 중요한 경우.
</br></br>

**NoSQL 사용이 더나은 경우**

- 정확한 데이터 구조를 알 수 없거나 변경/확장 될 수 있는 경우.
- 읽기를 자주 하지만, 데이터 변경은 자주 없는 경우.
- 데이터베이스를 수평으로 확장해야 하는 경우(막대한 양의 데이터를 다뤄야 하는 경우).
